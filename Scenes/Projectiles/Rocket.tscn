[gd_scene load_steps=9 format=3 uid="uid://brxu38feey5x2"]

[ext_resource type="Script" uid="uid://ctwq18qvfpqdt" path="res://Scripts/Rocket.gd" id="1_04b3i"]
[ext_resource type="PackedScene" uid="uid://mp3fjehy7rek" path="res://Scenes/Particles/Explosion.tscn" id="2_iywrq"]
[ext_resource type="Texture2D" uid="uid://h4dre17bjbkj" path="res://Images/Rocket.png" id="2_vtcox"]
[ext_resource type="Script" uid="uid://d0j76nuonclan" path="res://Scripts/Clear/Particle.gd" id="3_aaj1x"]
[ext_resource type="PackedScene" uid="uid://dxb0iwewnrj0t" path="res://Scenes/Particles/Smoke.tscn" id="4_kra5k"]
[ext_resource type="Material" uid="uid://d01831bd6wct" path="res://Resources/Particle_Materials/Smoke2.tres" id="6_6mg7h"]

[sub_resource type="CircleShape2D" id="CircleShape2D_04b3i"]
radius = 30.0

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_vtcox"]
blend_mode = 1

[node name="Rocket" type="CharacterBody2D"]
z_index = 101
script = ExtResource("1_04b3i")

[node name="Sprite" type="Sprite2D" parent="."]
texture_filter = 1
position = Vector2(0, -1)
texture = ExtResource("2_vtcox")

[node name="Area" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 129

[node name="Collider" type="CollisionPolygon2D" parent="Area"]
visible = false
polygon = PackedVector2Array(0, -6, 2, -3, 2, 4, -2, 4, -2, -3)

[node name="Cast" type="ShapeCast2D" parent="."]
visible = false
shape = SubResource("CircleShape2D_04b3i")
target_position = Vector2(0, 0)
max_results = 10
collision_mask = 128

[node name="Explosion" parent="." instance=ExtResource("2_iywrq")]
script = ExtResource("3_aaj1x")

[node name="Smoke" parent="." instance=ExtResource("4_kra5k")]
position = Vector2(0, 4)
amount = 300

[node name="Smoke2" type="GPUParticles2D" parent="."]
material = SubResource("CanvasItemMaterial_vtcox")
position = Vector2(0, 4)
amount = 300
process_material = ExtResource("6_6mg7h")

[connection signal="body_entered" from="Area" to="." method="Body_Entered"]
[connection signal="finished" from="Explosion" to="Explosion" method="Finished"]
